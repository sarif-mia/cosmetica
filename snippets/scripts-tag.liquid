{%- liquid
  assign t = template | split: '.' | first
  assign admin_vi = request.design_mode

-%}
<script src="{{ 'tingle.js' | asset_url }}" defer="defer"></script>
<script src="{{ 'theme.js' | asset_url }}"  defer="defer" type="module"></script>
{%- case t -%}
  {%- when 'collection' and collection.handle -%}
    <script src="{{ 'collection.js' | asset_url }}" defer="defer"></script>
  {%- when 'product' -%}
    <script src="{{ 'main-product.js' | asset_url }}" defer="defer"></script>
    <script src="{{ 'js-cloudimage-360-view.min.js' | asset_url }}" defer="defer"></script>
  {%- when 'search' -%}
    <script src="{{ 'collection.js' | asset_url }}" defer="defer"></script>
{%- endcase -%}
<script defer="defer">
  var cosmetica_app = {
  shop: '{{ shop.permanent_domain }}',
  domain: '{{ shop.domain }}',
  mode: '{%- if admin_vi == true -%}admin{% else %}front{%- endif -%}',
  };
</script>
